

[Back to Index](index.md)
***

# **Impex API**

The ImpEx API allows you to interact with all the core api's in the TWC system at a unified REST interface for the seemless interegration of bulk data in to the system. You can use the API to import and export data, and extend or adapt it to your needs as it works with multiple combinations of entity types and data is translated and transformed to the system requirements internally. 


### Index

***

- [**Impex API**](#impex-api)
    <!-- - [Index](#index) -->
  - [**Representations**](#representations)
  - [**REST Endpoints**](#rest-endpoints)
    - [Create Batch](#create-batch)
    - [Change State](#change-state)
    - [Get Batch](#get-batch)
    - [Query Batch](#query-batch)
    - [Create Resources](#create-resources)
    - [Update State](#update-state)
    - [Get Resource By Id](#get-resource-by-id)
    - [Query Resources](#query-resources)
      


## **Representations**

All representations are JSON objects submitted or received as payload to API requests or responses.

<!-- <details> -->
 <summary><font size="4">Import Batch Resource</font></summary>


`id` - string - A system generated id that's used as a unique identifier for the batch resource. Each id is unique across the store. No two batch will have the same id.

`batchRef` - string - A User generated referance id that's used as a unique identifier for the batch resource. Each id is unique across the store . No two batch will have the same id.


`state` - enum - There are five batch states for import batch, with default being **CREATED**.

- ABORTED
- CREATED
- ERROR
- PROCESSING
- READY 
  
`page` - integer - The number of the page out of all the total pages with batch data. Page number starts with 0 and goes in increments of one.

`pageSize` - integer - Determines the total amount of batch responses are present in a single page.

`total` - long - The total number of pages with batch resource responses.

`created_at` - The autogenerated date and time (ISO 8601 format) when the Batch was created in Shopify. The value for this property cannot be changed.

`modifiedAt` - string - The date and time (ISO 8601 format) when the Batch was last modified.


`expiresAt` -The date and time (ISO 8601 format) when the Batch expires or is aborted.

`tenantId` - Unique to each tenant, authentication is based on this tenantId
<!--</details>-->


<!-- <details> -->
 <summary><font size="4">Import Resource </font></summary>

`batchId` - string - The batch id for which the resources are being created.

`batchRef` - string - The batchRef for which the resources are being created. batch id and ref should match for requests, else system will throw conflict error.

`id` - string - A system generated id that's used as a unique identifier for the resource. Each id is unique across the store. No two resource will have the same id.

`entityType` - enum - The various types of entity data thats handelled by the TWC system are as follows:
- customer
- inventory_location
- inventory_level
- order
- order_line
- product
- product_variant
- price

`customer` -[Customer API](customersvcApi.md) 

`products` - [products](productsvcAPI.md)

`variants` - [product variants](Common_Fields/productVariant.md)

`orders` -	[order API](ordersSvcApi.md)

`stockLevels` - [Stock Levels](Common_Fields/stocklevel.md) 

`prices` - [price](priceSvcAPI.md) 

`inventoryLocations` - [inventory Location ](inventorySvcAPI.md) 

`validationState` - enum - The various states of resource validation are as listed as follows: 

- not_validated
- validated
- validation_not_needed
- rejected

The value is defaulted as *not_validated*.

`operation` - enum - The various states of import operation are listed as follows:

- not_started
- in_progress
- failed
- attempted
- marked_for_deletion
- imported

The value is defaulted as *not_started*.

`page` - integer - The number of the page out of all the total pages with batch data. Page number starts with 0 and goes in increments of one.

`pageSize` - integer - Determines the total amount of batch responses are present in a single page.

`total` - long - The total number of pages with batch resource responses.

withTotal Boolean Default FALSE

`created_at` - The autogenerated date and time (ISO 8601 format) when the Batch was created in Shopify. The value for this property cannot be changed.

`modifiedAt` - string - The date and time (ISO 8601 format) when the Batch was last modified.

`tenantId` - Unique to each tenant, authentication is based on this tenantId.
<!--</details> -->

## **REST Endpoints**

- ## **Impex Batch Resource**

## Create Batch
For the creation of a new batch resource with unique id and ref.

Method: ``` POST ``` 

Endpoint: ```​​/api​/import​/batch```

OAuth 2.0 Scopes: `Tenant authentication`

<summary>Request Headers :</summary>

| Key           | Value            |
|---------------|------------------|
| Content-Type  | application/json |
| X-TWC-Tenant  | {Tenant Name}    |

Request : 
```json
{
  "batchRef": "string",
  "state": "ABORTED"
}

```

<summary>Response - 201 (created)</summary>

```json
{
  "batchRef": "string",
  "createdAt": "2022-06-28T03:48:53.830Z",
  "expiresAt": "2022-06-28T03:48:53.830Z",
  "id": "string",
  "modifiedAt": "2022-06-28T03:48:53.830Z",
  "state": "ABORTED"
}
```

HTTP Status Code: 
``` 
- 200 OK
- 201 Created
- 401 Unauthorized
- 403 Forbidden 
- 404 Not Found
```

## Change State
To mark the resource as *READY* state after resource population. This in turn triggers the create resources in the system.

Method: ``` PUT ``` 

Endpoint: ```​/api​/import​/batch​/state-change```

OAuth 2.0 Scopes: `Tenant authentication`

<summary>Request Headers :</summary>

| Key           | Value            |
|---------------|------------------|
| Content-Type  | application/json |
| X-TWC-Tenant  | {Tenant Name}    |


Request parameters : `batchId - batchId`

`batchRef - batchRef`

`state : Available values : ABORTED, CREATED, ERROR, PROCESSING, READY`

<summary>Response - 200 (OK Updated)</summary>
 
```json
{
  "batchRef": "string",
  "createdAt": "2022-06-28T03:49:29.094Z",
  "expiresAt": "2022-06-28T03:49:29.094Z",
  "id": "string",
  "modifiedAt": "2022-06-28T03:49:29.094Z",
  "state": "ABORTED"
}
```


HTTP Status Code: 
``` 
- 200 OK
- 201 Created
- 401 Unauthorized
- 403 Forbidden 
- 404 Not Found
```

## Get Batch
To find batch by id. Id is passed as a path param.

Method: ``` GET ``` 

Endpoint: ```​/api​/import​/batch​/{id}```

OAuth 2.0 Scopes: `Tenant authentication`

<summary>Request Headers :</summary>

| Key           | Value            |
|---------------|------------------|
| Content-Type  | application/json |
| X-TWC-Tenant  | {Tenant Name}    |


Request parameters : `batchRef - batchRef`

`batchState - batchState`

`id - id`
`page : integer`

`pageSize : pageSize`

`withTotal : boolean`

<summary>Response - 200 (OK)</summary>

```json
{
  "batchRef": "string",
  "createdAt": "2022-06-28T03:50:15.330Z",
  "expiresAt": "2022-06-28T03:50:15.330Z",
  "id": "string",
  "modifiedAt": "2022-06-28T03:50:15.330Z",
  "state": "ABORTED"
}
```

HTTP Status Code: 
``` 
- 200 OK
- 201 Created
- 401 Unauthorized
- 403 Forbidden 
- 404 Not Found
```

## Query Batch
To conduct various batch query with various avaliable query parameters in the scope of the request.

Method: ``` GET ``` 

Endpoint: ```​​/api​/import​/batch```

OAuth 2.0 Scopes: `Tenant authentication`

<summary>Request Headers :</summary>

| Key           | Value            |
|---------------|------------------|
| Content-Type  | application/json |
| X-TWC-Tenant  | {Tenant Name}    |


Query parameters : `batchId - batchId`

`batchRef - batchRef`

`entityType : Available values : customer, inventory_level, inventory_location, order, order_line, price, product, product_variant`

`importState :Available values : attempted, failed, imported, in_progress, marked_for_deletion, not_started`

`validationState : Available values : not_validated, rejected, validated, validation_not_needed`

`page : integer`

`pageSize : pageSize`

`withTotal : boolean`


<summary>Response - 200 (OK)</summary>

```json
{
  "page": 0,
  "pageSize": 0,
  "results": [
    {
      "batchRef": "string",
      "createdAt": "2022-06-28T03:51:52.057Z",
      "expiresAt": "2022-06-28T03:51:52.057Z",
      "id": "string",
      "modifiedAt": "2022-06-28T03:51:52.057Z",
      "state": "ABORTED"
    }
  ],
  "total": 0
}
```

HTTP Status Code: 
``` 
- 200 OK
- 201 Created
- 401 Unauthorized
- 403 Forbidden 
- 404 Not Found
```

- ## **Impex Resource**

## Create Resources
For the creation of a new batch resource with unique id and ref.

Method: ``` POST ``` 

Endpoint: ```​​​/api​/import​/resource```

OAuth 2.0 Scopes: `Tenant authentication`

<summary>Request Headers :</summary>

| Key           | Value            |
|---------------|------------------|
| Content-Type  | application/json |
| X-TWC-Tenant  | {Tenant Name}    |


Request :
```
{
  "batchId": "string",
  "batchRef": "string",
  "customer": [
    {
      "body": {
        "accepts_marketing": true,
        "active": true,
        "addresses": [
          {
            "address1": "string",
            "address2": "string",
            "addressId": "string",
            "addressName": "string",
            "city": "string",
            "company": "string",
            "country": "string",
            "countryCode": "string",
            "customerId": "string",
            "defaultAddress": true,
            "email": "string",
            "firstName": "string",
            "lastName": "string",
            "phone": "string",
            "postcode": "string",
            "province": "string",
            "provinceCode": "string"
          }
        ],
        "attributeGroups": {
          "additionalProp1": {
            "attribute_group": "string",
            "attributes": {
              "additionalProp1": {
                "attribute_value": "string",
                "value_type": "BLOB"
              },
              "additionalProp2": {
                "attribute_value": "string",
                "value_type": "BLOB"
              },
              "additionalProp3": {
                "attribute_value": "string",
                "value_type": "BLOB"
              }
            },
            "is_obsolete": true
          },
          "additionalProp2": {
            "attribute_group": "string",
            "attributes": {
              "additionalProp1": {
                "attribute_value": "string",
                "value_type": "BLOB"
              },
              "additionalProp2": {
                "attribute_value": "string",
                "value_type": "BLOB"
              },
              "additionalProp3": {
                "attribute_value": "string",
                "value_type": "BLOB"
              }
            },
            "is_obsolete": true
          },
          "additionalProp3": {
            "attribute_group": "string",
            "attributes": {
              "additionalProp1": {
                "attribute_value": "string",
                "value_type": "BLOB"
              },
              "additionalProp2": {
                "attribute_value": "string",
                "value_type": "BLOB"
              },
              "additionalProp3": {
                "attribute_value": "string",
                "value_type": "BLOB"
              }
            },
            "is_obsolete": true
          }
        },
        "createdDate": "2022-06-20T19:49:58.873Z",
        "customerRef": "string",
        "customer_state": "declined",
        "defaultAddress": {
          "address1": "string",
          "address2": "string",
          "addressId": "string",
          "addressName": "string",
          "city": "string",
          "company": "string",
          "country": "string",
          "countryCode": "string",
          "customerId": "string",
          "defaultAddress": true,
          "email": "string",
          "firstName": "string",
          "lastName": "string",
          "phone": "string",
          "postcode": "string",
          "province": "string",
          "provinceCode": "string"
        },
        "dob": "2022-06-20T19:49:58.873Z",
        "email": "string",
        "firstName": "string",
        "id": "string",
        "lastModifiedDate": "2022-06-20T19:49:58.873Z",
        "lastName": "string",
        "marketing_optin_level": "confirmed_opt_in",
        "marketing_preferences_updated_at": "2022-06-20T19:49:58.873Z",
        "mobile": "string",
        "phone": "string",
        "taxExempt": true,
        "taxExemptions": [
          "string"
        ],
        "verified_email": true
      },
      "identifier": {
        "resourceId": "string",
        "resourceRef": "string"
      },
      "importOperation": "create"
    }
  ],
  "inventory_locations": [
    {
      "body": {
        "address": {
          "address1": "string",
          "address2": "string",
          "addressId": "string",
          "addressName": "string",
          "city": "string",
          "company": "string",
          "country": "string",
          "countryCode": "string",
          "customerId": "string",
          "defaultAddress": true,
          "email": "string",
          "firstName": "string",
          "lastName": "string",
          "phone": "string",
          "postcode": "string",
          "province": "string",
          "provinceCode": "string"
        },
        "attributeGroups": {
          "additionalProp1": {
            "attribute_group": "string",
            "attributes": {
              "additionalProp1": {
                "attribute_value": "string",
                "value_type": "BLOB"
              },
              "additionalProp2": {
                "attribute_value": "string",
                "value_type": "BLOB"
              },
              "additionalProp3": {
                "attribute_value": "string",
                "value_type": "BLOB"
              }
            },
            "is_obsolete": true
          },
          "additionalProp2": {
            "attribute_group": "string",
            "attributes": {
              "additionalProp1": {
                "attribute_value": "string",
                "value_type": "BLOB"
              },
              "additionalProp2": {
                "attribute_value": "string",
                "value_type": "BLOB"
              },
              "additionalProp3": {
                "attribute_value": "string",
                "value_type": "BLOB"
              }
            },
            "is_obsolete": true
          },
          "additionalProp3": {
            "attribute_group": "string",
            "attributes": {
              "additionalProp1": {
                "attribute_value": "string",
                "value_type": "BLOB"
              },
              "additionalProp2": {
                "attribute_value": "string",
                "value_type": "BLOB"
              },
              "additionalProp3": {
                "attribute_value": "string",
                "value_type": "BLOB"
              }
            },
            "is_obsolete": true
          }
        },
        "id": "string",
        "locationRef": "string",
        "locationType": "DISTRIBUTION_CENTER"
      },
      "identifier": {
        "resourceId": "string",
        "resourceRef": "string"
      },
      "importOperation": "create"
    }
  ],
  "orders": [
    {
      "body": {
        "acceptsMarketing": true,
        "appliedDiscounts": [
          {
            "amount": 0,
            "amountInCent": 0,
            "couponCode": "string",
            "discountRef": "string",
            "discountType": "string",
            "headerLevel": true,
            "id": "string",
            "name": "string"
          }
        ],
        "appliedTaxes": [
          {
            "amount": 0,
            "amountInCent": 0,
            "id": "string",
            "name": "string",
            "taxCode": "string",
            "taxRate": 0
          }
        ],
        "attributeGroups": {
          "additionalProp1": {
            "attribute_group": "string",
            "attributes": {
              "additionalProp1": {
                "attribute_value": "string",
                "value_type": "BLOB"
              },
              "additionalProp2": {
                "attribute_value": "string",
                "value_type": "BLOB"
              },
              "additionalProp3": {
                "attribute_value": "string",
                "value_type": "BLOB"
              }
            },
            "is_obsolete": true
          },
          "additionalProp2": {
            "attribute_group": "string",
            "attributes": {
              "additionalProp1": {
                "attribute_value": "string",
                "value_type": "BLOB"
              },
              "additionalProp2": {
                "attribute_value": "string",
                "value_type": "BLOB"
              },
              "additionalProp3": {
                "attribute_value": "string",
                "value_type": "BLOB"
              }
            },
            "is_obsolete": true
          },
          "additionalProp3": {
            "attribute_group": "string",
            "attributes": {
              "additionalProp1": {
                "attribute_value": "string",
                "value_type": "BLOB"
              },
              "additionalProp2": {
                "attribute_value": "string",
                "value_type": "BLOB"
              },
              "additionalProp3": {
                "attribute_value": "string",
                "value_type": "BLOB"
              }
            },
            "is_obsolete": true
          }
        },
        "billingAddress": {
          "address1": "string",
          "address2": "string",
          "addressId": "string",
          "addressName": "string",
          "city": "string",
          "company": "string",
          "country": "string",
          "countryCode": "string",
          "customerId": "string",
          "defaultAddress": true,
          "email": "string",
          "firstName": "string",
          "lastName": "string",
          "phone": "string",
          "postcode": "string",
          "province": "string",
          "provinceCode": "string"
        },
        "cancelReason": "string",
        "cancelled": true,
        "cancelledAt": "2022-06-20T19:49:58.873Z",
        "cartId": "string",
        "channel": "MOBILE",
        "confirmed": true,
        "couponDiscounts": 0,
        "couponDiscountsInCent": 0,
        "created_at": "2022-06-20T19:49:58.873Z",
        "currencyCode": "string",
        "customerId": "string",
        "customerLocale": "string",
        "customerRef": "string",
        "deliveryStatus": "DELIVERED",
        "email": "string",
        "handlingCost": 0,
        "handlingCostExTax": 0,
        "handlingCostExTaxInCent": 0,
        "handlingCostInCent": 0,
        "handlingCostIncTax": 0,
        "handlingCostIncTaxInCent": 0,
        "id": "string",
        "ipAddress": "string",
        "ipAddressCountry": "string",
        "ipAddressCountryIsocode": "string",
        "itemsCancelled": 0,
        "itemsReturned": 0,
        "itemsShipped": 0,
        "orderLines": [
          {
            "appliedDiscounts": [
              {
                "amount": 0,
                "amountInCent": 0,
                "couponCode": "string",
                "discountRef": "string",
                "discountType": "string",
                "headerLevel": true,
                "id": "string",
                "name": "string"
              }
            ],
            "basePrice": 0,
            "basePriceExTax": 0,
            "basePriceExTaxInCent": 0,
            "basePriceInCent": 0,
            "basePriceIncTax": 0,
            "basePriceIncTaxInCent": 0,
            "cancelledAt": "2022-06-20T19:49:58.873Z",
            "created_at": "2022-06-20T19:49:58.873Z",
            "entryRef": "string",
            "gtin": "string",
            "id": "string",
            "orderId": "string",
            "orderRef": "string",
            "processedAt": "2022-06-20T19:49:58.873Z",
            "productId": "string",
            "productRef": "string",
            "quantity": 0,
            "refundAmount": 0,
            "refundAmountInCent": 0,
            "returnId": 0,
            "returnedAt": "2022-06-20T19:49:58.873Z",
            "returnedQuantity": 0,
            "shippedQuantity": 0,
            "totalAmount": 0,
            "totalAmountBeforeDiscount": 0,
            "totalAmountBeforeDiscountInCent": 0,
            "totalAmountExTax": 0,
            "totalAmountInCent": 0,
            "totalAmountIncTax": 0,
            "totalAmountIncTaxInCent": 0,
            "updated_at": "2022-06-20T19:49:58.874Z"
          }
        ],
        "orderRef": "string",
        "orderStatus": "AWAITING_PAYMENT",
        "paymentMethod": "string",
        "paymentProvider": "string",
        "paymentStatus": "AUTHORIZED",
        "processedAt": "2022-06-20T19:49:58.874Z",
        "promotionalDiscounts": 0,
        "promotionalDiscountsInCent": 0,
        "refundedAmount": 0,
        "refundedAmountInCent": 0,
        "returnReason": "string",
        "returned": true,
        "returnedAt": "2022-06-20T19:49:58.874Z",
        "shipmentMode": {
          "createdAt": "2022-06-20T19:49:58.874Z",
          "id": "string",
          "modifiedAt": "2022-06-20T19:49:58.874Z",
          "name": "string",
          "shipmentCost": 0,
          "shipmentCostInCent": 0,
          "tenantId": "string"
        },
        "shipments": [
          {
            "createdAt": "2022-06-20T19:49:58.874Z",
            "deliveryDate": "2022-06-20T19:49:58.874Z",
            "id": "string",
            "modifiedAt": "2022-06-20T19:49:58.874Z",
            "orderId": "string",
            "orderRef": "string",
            "shipmentLines": [
              {
                "createdAt": "2022-06-20T19:49:58.874Z",
                "entryId": "string",
                "entryRef": "string",
                "id": "string",
                "modifiedAt": "2022-06-20T19:49:58.874Z",
                "orderId": "string",
                "orderRef": "string",
                "quantityShipped": "string",
                "shipmentId": "string",
                "shipmentLineRef": "string",
                "shipmentRef": "string",
                "tenantId": "string"
              }
            ],
            "shipmentProvider": "string",
            "shipmentRef": "string",
            "shipmentStatus": "DELIVERED",
            "shippedDate": "2022-06-20T19:49:58.874Z",
            "tenantId": "string",
            "trackingNumber": "string",
            "trackingUrl": "string"
          }
        ],
        "shippingAddress": {
          "address1": "string",
          "address2": "string",
          "addressId": "string",
          "addressName": "string",
          "city": "string",
          "company": "string",
          "country": "string",
          "countryCode": "string",
          "customerId": "string",
          "defaultAddress": true,
          "email": "string",
          "firstName": "string",
          "lastName": "string",
          "phone": "string",
          "postcode": "string",
          "province": "string",
          "provinceCode": "string"
        },
        "shippingCost": 0,
        "shippingCostBeforeDiscount": 0,
        "shippingCostBeforeDiscountInCent": 0,
        "shippingCostExTax": 0,
        "shippingCostExTaxInCent": 0,
        "shippingCostInCent": 0,
        "shippingCostIncTax": 0,
        "shippingCostIncTaxCent": 0,
        "shippingState": "CREATED",
        "taxCategoryCode": "string",
        "taxIncluded": true,
        "totalAmount": 0,
        "totalAmountBeforeDiscount": 0,
        "totalAmountBeforeDiscountInCent": 0,
        "totalAmountExTax": 0,
        "totalAmountExTaxInCent": 0,
        "totalAmountInCent": 0,
        "totalAmountIncTax": 0,
        "totalAmountIncTaxInCent": 0,
        "totalDiscounts": 0,
        "totalDiscountsInCent": 0,
        "totalItems": 0,
        "updated_at": "2022-06-20T19:49:58.874Z",
        "wrappingCost": 0,
        "wrappingCostExTax": 0,
        "wrappingCostExTaxInCent": 0,
        "wrappingCostInCent": 0,
        "wrappingCostIncTax": 0,
        "wrappingCostIncTaxInCent": 0
      },
      "identifier": {
        "resourceId": "string",
        "resourceRef": "string"
      },
      "importOperation": "create"
    }
  ],
  "prices": [
    {
      "body": {
        "active": true,
        "currency": {
          "id": "string",
          "isocode": "string",
          "name": "string",
          "symbol": "string"
        },
        "deleted": true,
        "id": "string",
        "offlineDate": "2022-06-20T19:49:58.874Z",
        "onlineDate": "2022-06-20T19:49:58.874Z",
        "price": 0,
        "priceRef": "string",
        "productId": "string",
        "productRef": "string",
        "sale": true,
        "salePrice": 0
      },
      "identifier": {
        "resourceId": "string",
        "resourceRef": "string"
      },
      "importOperation": "create"
    }
  ],
  "products": [
    {
      "body": {
        "active": true,
        "additionalImageLink": "string",
        "attributeGroups": {
          "additionalProp1": {
            "attribute_group": "string",
            "attributes": {
              "additionalProp1": {
                "attribute_value": "string",
                "value_type": "BLOB"
              },
              "additionalProp2": {
                "attribute_value": "string",
                "value_type": "BLOB"
              },
              "additionalProp3": {
                "attribute_value": "string",
                "value_type": "BLOB"
              }
            },
            "is_obsolete": true
          },
          "additionalProp2": {
            "attribute_group": "string",
            "attributes": {
              "additionalProp1": {
                "attribute_value": "string",
                "value_type": "BLOB"
              },
              "additionalProp2": {
                "attribute_value": "string",
                "value_type": "BLOB"
              },
              "additionalProp3": {
                "attribute_value": "string",
                "value_type": "BLOB"
              }
            },
            "is_obsolete": true
          },
          "additionalProp3": {
            "attribute_group": "string",
            "attributes": {
              "additionalProp1": {
                "attribute_value": "string",
                "value_type": "BLOB"
              },
              "additionalProp2": {
                "attribute_value": "string",
                "value_type": "BLOB"
              },
              "additionalProp3": {
                "attribute_value": "string",
                "value_type": "BLOB"
              }
            },
            "is_obsolete": true
          }
        },
        "availability": "available",
        "availabilityDescription": "string",
        "brandId": "string",
        "brandName": "string",
        "calculatedPrice": 0,
        "color": "string",
        "condition": "New",
        "cost": 0,
        "defaultVariant": "string",
        "deleted": true,
        "description": "string",
        "digitalProduct": true,
        "disabled": true,
        "expirationDate": "2022-06-20T19:49:58.874Z",
        "featured": true,
        "gtin": "string",
        "gtinType": "EAN",
        "id": "string",
        "imageLink": "string",
        "inventoryLevel": 0,
        "inventoryTracking": "none",
        "isbn": "string",
        "link": "string",
        "maxOrderQuantity": 0,
        "minOrderQuantity": 0,
        "mobileLink": "string",
        "physicalSpecs": {
          "dimensionUnitCode": "string",
          "dimensionUnitName": "string",
          "maxDepth": 0,
          "maxHeight": 0,
          "maxWeight": 0,
          "maxWidth": 0,
          "minWeight": 0,
          "weightUnitCode": "string",
          "weightUnitName": "string"
        },
        "productRef": "string",
        "status": "APPROVED",
        "title": "string",
        "variance": [
          "string"
        ],
        "variantOptions": [
          {
            "optionId": "string",
            "optionName": "string"
          }
        ],
        "variants": [
          {
            "active": true,
            "additionalImageLink": "string",
            "attributeGroups": {
              "additionalProp1": {
                "attribute_group": "string",
                "attributes": {
                  "additionalProp1": {
                    "attribute_value": "string",
                    "value_type": "BLOB"
                  },
                  "additionalProp2": {
                    "attribute_value": "string",
                    "value_type": "BLOB"
                  },
                  "additionalProp3": {
                    "attribute_value": "string",
                    "value_type": "BLOB"
                  }
                },
                "is_obsolete": true
              },
              "additionalProp2": {
                "attribute_group": "string",
                "attributes": {
                  "additionalProp1": {
                    "attribute_value": "string",
                    "value_type": "BLOB"
                  },
                  "additionalProp2": {
                    "attribute_value": "string",
                    "value_type": "BLOB"
                  },
                  "additionalProp3": {
                    "attribute_value": "string",
                    "value_type": "BLOB"
                  }
                },
                "is_obsolete": true
              },
              "additionalProp3": {
                "attribute_group": "string",
                "attributes": {
                  "additionalProp1": {
                    "attribute_value": "string",
                    "value_type": "BLOB"
                  },
                  "additionalProp2": {
                    "attribute_value": "string",
                    "value_type": "BLOB"
                  },
                  "additionalProp3": {
                    "attribute_value": "string",
                    "value_type": "BLOB"
                  }
                },
                "is_obsolete": true
              }
            },
            "availability": "available",
            "availabilityDescription": "string",
            "baseProductId": "string",
            "baseProductRef": "string",
            "brandId": "string",
            "brandName": "string",
            "calculatedPrice": 0,
            "color": "string",
            "condition": "New",
            "cost": 0,
            "defaultVariant": "string",
            "deleted": true,
            "description": "string",
            "digitalProduct": true,
            "disabled": true,
            "expirationDate": "2022-06-20T19:49:58.874Z",
            "featured": true,
            "gtin": "string",
            "gtinType": "EAN",
            "id": "string",
            "imageLink": "string",
            "inventoryLevel": 0,
            "inventoryTracking": "none",
            "isbn": "string",
            "link": "string",
            "maxOrderQuantity": 0,
            "minOrderQuantity": 0,
            "mobileLink": "string",
            "physicalSpecs": {
              "dimensionUnitCode": "string",
              "dimensionUnitName": "string",
              "maxDepth": 0,
              "maxHeight": 0,
              "maxWeight": 0,
              "maxWidth": 0,
              "minWeight": 0,
              "weightUnitCode": "string",
              "weightUnitName": "string"
            },
            "productRef": "string",
            "status": "APPROVED",
            "title": "string",
            "variance": {
              "additionalProp1": "string",
              "additionalProp2": "string",
              "additionalProp3": "string"
            },
            "variantOptions": [
              {
                "optionDefaultImage": "string",
                "optionId": "string",
                "optionLabel": "string",
                "optionValue": "string",
                "optionsImageId": "string"
              }
            ]
          }
        ],
        "variantsAvailable": true
      },
      "identifier": {
        "resourceId": "string",
        "resourceRef": "string"
      },
      "importOperation": "create"
    }
  ],
  "stock_levels": [
    {
      "body": {
        "attributeGroups": {
          "additionalProp1": {
            "attribute_group": "string",
            "attributes": {
              "additionalProp1": {
                "attribute_value": "string",
                "value_type": "BLOB"
              },
              "additionalProp2": {
                "attribute_value": "string",
                "value_type": "BLOB"
              },
              "additionalProp3": {
                "attribute_value": "string",
                "value_type": "BLOB"
              }
            },
            "is_obsolete": true
          },
          "additionalProp2": {
            "attribute_group": "string",
            "attributes": {
              "additionalProp1": {
                "attribute_value": "string",
                "value_type": "BLOB"
              },
              "additionalProp2": {
                "attribute_value": "string",
                "value_type": "BLOB"
              },
              "additionalProp3": {
                "attribute_value": "string",
                "value_type": "BLOB"
              }
            },
            "is_obsolete": true
          },
          "additionalProp3": {
            "attribute_group": "string",
            "attributes": {
              "additionalProp1": {
                "attribute_value": "string",
                "value_type": "BLOB"
              },
              "additionalProp2": {
                "attribute_value": "string",
                "value_type": "BLOB"
              },
              "additionalProp3": {
                "attribute_value": "string",
                "value_type": "BLOB"
              }
            },
            "is_obsolete": true
          }
        },
        "deleted": true,
        "excludedQuantity": 0,
        "futureStock": true,
        "id": "string",
        "locationId": "string",
        "locationRef": "string",
        "productId": "string",
        "productRef": "string",
        "reserved": 0,
        "status": "IN_STOCK",
        "stockDate": "2022-06-20T19:49:58.874Z",
        "stockOnHand": 0,
        "stockRef": "string"
      },
      "identifier": {
        "resourceId": "string",
        "resourceRef": "string"
      },
      "importOperation": "create"
    }
  ],
  "variants": [
    {
      "body": {
        "active": true,
        "additionalImageLink": "string",
        "attributeGroups": {
          "additionalProp1": {
            "attribute_group": "string",
            "attributes": {
              "additionalProp1": {
                "attribute_value": "string",
                "value_type": "BLOB"
              },
              "additionalProp2": {
                "attribute_value": "string",
                "value_type": "BLOB"
              },
              "additionalProp3": {
                "attribute_value": "string",
                "value_type": "BLOB"
              }
            },
            "is_obsolete": true
          },
          "additionalProp2": {
            "attribute_group": "string",
            "attributes": {
              "additionalProp1": {
                "attribute_value": "string",
                "value_type": "BLOB"
              },
              "additionalProp2": {
                "attribute_value": "string",
                "value_type": "BLOB"
              },
              "additionalProp3": {
                "attribute_value": "string",
                "value_type": "BLOB"
              }
            },
            "is_obsolete": true
          },
          "additionalProp3": {
            "attribute_group": "string",
            "attributes": {
              "additionalProp1": {
                "attribute_value": "string",
                "value_type": "BLOB"
              },
              "additionalProp2": {
                "attribute_value": "string",
                "value_type": "BLOB"
              },
              "additionalProp3": {
                "attribute_value": "string",
                "value_type": "BLOB"
              }
            },
            "is_obsolete": true
          }
        },
        "availability": "available",
        "availabilityDescription": "string",
        "baseProductId": "string",
        "baseProductRef": "string",
        "brandId": "string",
        "brandName": "string",
        "calculatedPrice": 0,
        "color": "string",
        "condition": "New",
        "cost": 0,
        "defaultVariant": "string",
        "deleted": true,
        "description": "string",
        "digitalProduct": true,
        "disabled": true,
        "expirationDate": "2022-06-20T19:49:58.874Z",
        "featured": true,
        "gtin": "string",
        "gtinType": "EAN",
        "id": "string",
        "imageLink": "string",
        "inventoryLevel": 0,
        "inventoryTracking": "none",
        "isbn": "string",
        "link": "string",
        "maxOrderQuantity": 0,
        "minOrderQuantity": 0,
        "mobileLink": "string",
        "physicalSpecs": {
          "dimensionUnitCode": "string",
          "dimensionUnitName": "string",
          "maxDepth": 0,
          "maxHeight": 0,
          "maxWeight": 0,
          "maxWidth": 0,
          "minWeight": 0,
          "weightUnitCode": "string",
          "weightUnitName": "string"
        },
        "productRef": "string",
        "status": "APPROVED",
        "title": "string",
        "variance": {
          "additionalProp1": "string",
          "additionalProp2": "string",
          "additionalProp3": "string"
        },
        "variantOptions": [
          {
            "optionDefaultImage": "string",
            "optionId": "string",
            "optionLabel": "string",
            "optionValue": "string",
            "optionsImageId": "string"
          }
        ]
      },
      "identifier": {
        "resourceId": "string",
        "resourceRef": "string"
      },
      "importOperation": "create"
    }
  ]
}

```

<summary>Response - 201 (created)</summary>

HTTP Status Code: 
``` 
- 200 OK
- 201 Created
- 401 Unauthorized
- 403 Forbidden 
- 404 Not Found
```

## Update State
To mark the resource as *READY* state after resource population. This in turn triggers the create resources in the system.

Method: ``` PUT ``` 

Endpoint: ```​/api​/import​/resource​/update-state```

OAuth 2.0 Scopes: `Tenant authentication`

<summary>Request Headers :</summary>

| Key           | Value            |
|---------------|------------------|
| Content-Type  | application/json |
| X-TWC-Tenant  | {Tenant Name}    |


Request Parameters : `importState : Available values : attempted, failed, imported, in_progress, marked_for_deletion, not_started ` 

`resourceId : resourceId`

`validationState : Available values : not_validated, rejected, validated, validation_not_needed`

<summary>Response - 200 (OK Updated)</summary>

```json
{
  "batchId": "string",
  "batchRef": "string",
  "body": {},
  "createdAt": "2022-06-28T03:54:01.895Z",
  "entityType": "customer",
  "id": "string",
  "identifier": {},
  "importState": "attempted",
  "modifiedAt": "2022-06-28T03:54:01.895Z",
  "operation": "create",
  "validationState": "not_validated"
}
```

HTTP Status Code: 
``` 
- 200 OK
- 201 Created
- 401 Unauthorized
- 403 Forbidden 
- 404 Not Found
```

## Get Resource By Id
To find batch by id. Id is passed as a path param.

Method: ``` GET ``` 

Endpoint: ```​/api​/import​/resource​/{id}```

OAuth 2.0 Scopes: `Tenant authentication`

<summary>Request Headers :</summary>

| Key           | Value            |
|---------------|------------------|
| Content-Type  | application/json |
| X-TWC-Tenant  | {Tenant Name}    |


Request Parameters : `Id : id`

<summary>Response - 200 (OK)</summary>

```json
{
  "batchId": "string",
  "batchRef": "string",
  "body": {},
  "createdAt": "2022-06-28T03:54:49.267Z",
  "entityType": "customer",
  "id": "string",
  "identifier": {},
  "importState": "attempted",
  "modifiedAt": "2022-06-28T03:54:49.267Z",
  "operation": "create",
  "validationState": "not_validated"
}
```

HTTP Status Code: 
``` 
- 200 OK
- 201 Created
- 401 Unauthorized
- 403 Forbidden 
- 404 Not Found
```

## Query Resources
To conduct various resource query with the avaliable query parameters in the scope of the request.

Method: ``` GET ``` 

Endpoint: ```​​/api​/import​/resource```

OAuth 2.0 Scopes: `Tenant authentication`

<summary>Request Headers :</summary>

| Key           | Value            |
|---------------|------------------|
| Content-Type  | application/json |
| X-TWC-Tenant  | {Tenant Name}    |


Request Parameters : `Id : id`


`batchId : batchId`

`batchRef : batchRef`

`entityType : Available values : customer, inventory_level, inventory_location, order, order_line, price, product, product_variant`

`importState : Available values : attempted, failed, imported, in_progress, marked_for_deletion, not_started`

`page : integer`

`pageSize : pageSize`

`validationState : Available values : not_validated, rejected, validated, validation_not_needed`

`withTotal : boolean`

<summary>Response - 200 (OK)</summary> 

```json
{
  "page": 0,
  "pageSize": 0,
  "results": [
    {
      "batchId": "string",
      "batchRef": "string",
      "body": {},
      "createdAt": "2022-06-28T03:55:26.731Z",
      "entityType": "customer",
      "id": "string",
      "identifier": {},
      "importState": "attempted",
      "modifiedAt": "2022-06-28T03:55:26.731Z",
      "operation": "create",
      "validationState": "not_validated"
    }
  ],
  "total": 0
}
```

HTTP Status Code: 
``` 
- 200 OK
- 201 Created
- 401 Unauthorized
- 403 Forbidden 
- 404 Not Found
```

***
[Back to Index](index.md)